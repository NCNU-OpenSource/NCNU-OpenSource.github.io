(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{158:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return i}));var a=n(1),o=n(9),b=(n(0),n(233)),r={},c={id:"1061/Week-9",title:"Week-9",description:"###### tags: `1061`",source:"@site/docs/1061/Week-9.md",permalink:"/docs/1061/Week-9",editUrl:"https://github.com/NCNU-OpenSource/NCNU-OpenSource.github.io/edit/src/docs/1061/Week-9.md",sidebar:"someSidebar",previous:{title:"Week-8",permalink:"/docs/1061/Week-8"},next:{title:"Week-10",permalink:"/docs/1061/Week-10"}},p=[{value:"scp \u5b89\u5168\uff0c\u4f46\u9700\u8981\u7d93\u5e38\u6253\u6307\u4ee4",id:"scp-\u5b89\u5168\uff0c\u4f46\u9700\u8981\u7d93\u5e38\u6253\u6307\u4ee4",children:[]},{value:"ncftp",id:"ncftp",children:[]},{value:"samba",id:"samba",children:[{value:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005",id:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005",children:[]},{value:"\u66f4\u6539samba's config",id:"\u66f4\u6539sambas-config",children:[]}]},{value:"postfix",id:"postfix",children:[]}],l={rightToc:p};function i(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(b.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h6",{id:"tags-1061"},"tags: ",Object(b.b)("inlineCode",{parentName:"h6"},"1061")),Object(b.b)("h6",{id:"lsa\u7b46\u8a18\u898f\u5247\uff1a\uff1auser-mode--\uff1aroot-mode"},"LSA\u7b46\u8a18\u898f\u5247\uff1a{",Object(b.b)("inlineCode",{parentName:"h6"},"$\uff1auser mode")," / ",Object(b.b)("inlineCode",{parentName:"h6"},"#\uff1aroot mode"),"}"),Object(b.b)("h1",{id:"1061-lsa-week-9-20171115-\u5171\u7b46---mail"},"1061 LSA week 9 (2017/11/15) \u5171\u7b46 - mail"),Object(b.b)("h2",{id:"scp-\u5b89\u5168\uff0c\u4f46\u9700\u8981\u7d93\u5e38\u6253\u6307\u4ee4"},"scp \u5b89\u5168\uff0c\u4f46\u9700\u8981\u7d93\u5e38\u6253\u6307\u4ee4"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"$scp {\u6a94\u6848} {username}@{ip}:{\u8def\u5f91}\n")),Object(b.b)("p",null,"Example ",Object(b.b)("inlineCode",{parentName:"p"},"$scp index.html username@10.10.10.10:~/home/username/directory"),"\nscp \u4e0a\u50b3\u6a94\u6848\u6703\u9810\u8a2d\u6210664\u6b0a\u9650\uff0c\u82e5\u8981\u66f4\u9ad8\u53ef\u5230config\u6a94\u66f4\u6539\u3002"),Object(b.b)("blockquote",null,Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u91dd\u5c0d\u6709\u8a2d\u5b9a\u5b89\u5168\u6027\u4e4b\u63d0\u9192\uff0c\u6709\u7684\u4eba\u6703\u628a\u9810\u8a2dport\u66f4\u6539"}),"\u91dd\u5c0d\u6709\u8a2d\u5b9a\u5b89\u5168\u6027\u4e4b\u63d0\u9192\uff0c\u6709\u7684\u4eba\u6703\u628a\u9810\u8a2dport\u66f4\u6539"),Object(b.b)("p",{parentName:"blockquote"},"-P \u6307\u5b9a port\uff0c\u82e5\u662f\u9810\u8a2d 22 \u5247\u53ef\u4ee5\u4e0d\u7528\u8f38\u5165\n",Object(b.b)("inlineCode",{parentName:"p"},"example: $scp -p {port} {\u6a94\u6848\u540d\u7a31} {username}@{ip}:{\u8def\u5f91}")),Object(b.b)("blockquote",{parentName:"blockquote"},Object(b.b)("p",{parentName:"blockquote"},"\u597d\u7528\u5fc3\uff0c\u63a8\u3002"),Object(b.b)("h2",Object(a.a)({parentName:"blockquote"},{id:"\u597d\u7528\u5fc3\uff0c\u63a8\u3002"}),"\u597d\u7528\u5fc3\uff0c\u63a8\u3002"),Object(b.b)("h2",Object(a.a)({parentName:"blockquote"},{id:"sftp-\u6bd4ftp\u5b89\u5168\uff0c\u4e00\u822c\u4e3b\u6a5f\u53ea\u8981\u6709ssh\u5c31\u53ef\u7528sftp"}),"sftp \u6bd4ftp\u5b89\u5168\uff0c\u4e00\u822c\u4e3b\u6a5f\u53ea\u8981\u6709ssh\u5c31\u53ef\u7528sftp"),Object(b.b)("p",{parentName:"blockquote"},"SSH File Transfer Protocol"),Object(b.b)("pre",{parentName:"blockquote"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"$ sftp {username}@{ip}\n$ get {path}\n")),Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"example"}),"Example"),Object(b.b)("pre",{parentName:"blockquote"},Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"$ sftp index.html username@10.10.10.10\nsftp> get index.html\n")),Object(b.b)("p",{parentName:"blockquote"},"[color=red]"),Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"sftp\u6307\u4ee4"}),"sftp\u6307\u4ee4"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},"\u5728\u6307\u4ee4\u524d\u9762\u591a\u6253\u500b l \u4ee3\u8868\u5728\u672c\u5730\u7aef\u57f7\u884c\npwd -> current directory\nlpwd -> local current directory\nget * -> download whole file within the directory\n\u597d\u8edf\u9ad4\u63a8\u85a6\uff1a",Object(b.b)("a",Object(a.a)({parentName:"li"},{href:"https://filezilla-project.org/"}),"FileZilla"))))),Object(b.b)("h2",{id:"ncftp"},"ncftp"),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),"$ sudo apt install ncftp\n$ ncftp ftp.ncnu.edu.tw\nncftp> get robots.txt\n")),Object(b.b)("blockquote",null,Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u6307\u5b9a\u4f7f\u7528\u8005\u767b\u5165"}),"\u6307\u5b9a\u4f7f\u7528\u8005\u767b\u5165"),Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"$ ncftp -u {username} -p {password}")),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"\u82e5\u7121--u-\u5247\u9810\u8a2d\u4f7f\u7528-anonymous"}),"\u82e5\u7121 -u \u5247\u9810\u8a2d\u4f7f\u7528 anonymous")),Object(b.b)("h2",{id:"samba"},"samba"),Object(b.b)("h3",{id:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005"},"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"$ sudo adduser {username}")," adduser with home directory\n",Object(b.b)("inlineCode",{parentName:"p"},"$ sudo useradd {username}")," adduser without home directory"),Object(b.b)("h3",{id:"\u66f4\u6539sambas-config"},"\u66f4\u6539samba's config"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"$ sudo vim /etc/samba/smb.conf")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"smb.conf\u6a94\u5167\u5c0d\u5e95\u7aef\u589e\u8a2d"),Object(b.b)("blockquote",{parentName:"blockquote"},Object(b.b)("p",{parentName:"blockquote"},"[{\u5206\u4eab\u6a94\u6848\u540d\u7a31}]","\ncomment =\npath = {PATH TO SHARE}\npublic = yes\nwritable = yes\n;read only = no\ndirectory mode = 0755\ncreate mode = 0755"),Object(b.b)("p",{parentName:"blockquote"},"[homes]","\ncomment = Home Directories\nbrowseable = no\nwritable = yes\ncreate mode = 0644\ndirectory mode = 0755"))),Object(b.b)("blockquote",null,Object(b.b)("blockquote",{parentName:"blockquote"},Object(b.b)("p",{parentName:"blockquote"},"[SharedDir]","\ncomment = Shared Directory\npath = /Test\npublic = yes\nwritable = yes\n;read only = no\ndirectory mode = 0755\ncreate mode = 0755\nvalid users = @group"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("strong",{parentName:"p"},"0755 = rwxr-xr-x","[color=blue]","\n\u81f3\u65bcrwx\u662f\u4ec0\u9ebc\uff0c\u8acb\u53c3\u8003LINUX\u9ce5\u54e5")),Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u9023\u63a5\u6e2c\u8a66"}),"\u9023\u63a5\u6e2c\u8a66"),Object(b.b)("p",{parentName:"blockquote"},"linux/mac:"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},Object(b.b)("inlineCode",{parentName:"li"},"smb:\\\\{ip}"),"\nwindows:")),Object(b.b)("ol",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ol"},Object(b.b)("inlineCode",{parentName:"li"},"\\\\{ip}")),Object(b.b)("li",{parentName:"ol"},"Windows Key + R, type ",Object(b.b)("inlineCode",{parentName:"li"},"\\\\{ip}"))),Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u8a2d\u5b9a\u7fa4\u7d44"}),"\u8a2d\u5b9a\u7fa4\u7d44"),Object(b.b)("p",{parentName:"blockquote"},"\u4fee\u6539 /etc/group\n",Object(b.b)("inlineCode",{parentName:"p"},"samba:x:1001:BlueT,Alice,Bob"),"\n\u4ee3\u8868 BlueT,Alice,Bob \u90fd\u5728 samba \u7fa4\u7d44\u5167")),Object(b.b)("h2",{id:"postfix"},"postfix"),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"$ apt-get install postfix"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"$ sudo dpkg-reconfigure postfix"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"tab")," > ",Object(b.b)("inlineCode",{parentName:"p"},"ok")," > ",Object(b.b)("inlineCode",{parentName:"p"},"{name}")," > ",Object(b.b)("inlineCode",{parentName:"p"},"{username}"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"$ sudo netstat -ntupl|grep 25|less"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"$ ps aux|grep 24496"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"$ iptables -nL")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"[color=red]"),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"bt\u8b1b\u89e3"}),"BT\u8b1b\u89e3"),Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"$ sudo dpkg -i chrome-fdrtyttfy.deb"),"\n-i = install\n",Object(b.b)("inlineCode",{parentName:"p"},"$ sudo apt install -f"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"$ sudo dpkg-reconfisgure postfix")," \u628a\u9019\u500b\u5957\u4ef6\u91cd\u65b0\u8a2d\u5b9a\u4e00\u6b21\u3002"),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"aptitude"}),"aptitude"),Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/")," > ",Object(b.b)("inlineCode",{parentName:"p"},"bad-mailx"),"\n",Object(b.b)("inlineCode",{parentName:"p"},"/")," > ",Object(b.b)("inlineCode",{parentName:"p"},"postfix"),"\n\u53ef\u900f\u904e\u76f8\u4f9d\u95dc\u4fc2\u67e5\u8a62"),Object(b.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"postfix-1"}),"postfix"),Object(b.b)("p",{parentName:"blockquote"},"MTA contains 2 function\n: 1. send\n: 2. receive"),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"configuration"}),"Configuration"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},"Internet Site \u7531\u672c\u6a5f\u5bc4\u4fe1"),Object(b.b)("li",{parentName:"ul"},"Internet with smarthost \u4ea4\u7531\u5176\u4ed6\u90f5\u4ef6\u4f3a\u670d\u5668\u5bc4\u4fe1"),Object(b.b)("li",{parentName:"ul"},"Local only \u53ea\u80fd\u4e3b\u6a5f\u5167\u4f7f\u7528\u8005\u76f8\u4e92\u5bc4\u4fe1")),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"mail-for-the-postmaster"}),"Mail for the 'postmaster'"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4eba\u5bc4\u7d66\u7ba1\u7406\u54e1\uff0c\u8981\u8f49\u9001\u7d66\u8ab0")),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"network-blocks-for-which-this-host-should-relay-mail"}),"network blocks for which this host should relay mail"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},"\u54ea\u4e9b\u7db2\u6bb5\u7684\u4eba\u53ef\u4ee5\u5bc4\u4fe1")),Object(b.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"local-address-extension-character"}),"Local address extension character"),Object(b.b)("ul",{parentName:"blockquote"},Object(b.b)("li",{parentName:"ul"},"\u9810\u8a2d\u70ba + \u865f"),Object(b.b)("li",{parentName:"ul"},"e.g., aaa+domain@gmail.com"),Object(b.b)("li",{parentName:"ul"},"\u9019\u662f\u8aaa\u5bc4\u7d66 aaa@gmail.com"),Object(b.b)("li",{parentName:"ul"},"\u4f46\u662f\u6536\u4ef6\u8005\u53ef\u4ee5\u81ea\u884c\u5c07\u8a72\u4fe1\u5206\u985e\u5230 domain\n0.0.0.0\u662f\u6307\u6240\u6709\u5340\u6bb5")),Object(b.b)("p",{parentName:"blockquote"},":::danger\n\u5b89\u88dd\u5f8c\u8acb\u78ba\u4fdd\u662f\u5426\u53ef\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\uff1a\n1. iptables\n2. route\n:::"),Object(b.b)("h2",Object(a.a)({parentName:"blockquote"},{id:"smtp-demo-by-yychang"}),"smtp DEMO by yy.chang"),Object(b.b)("p",{parentName:"blockquote"},"smtp \u5bc4\u4fe1protocol : 25\n",Object(b.b)("inlineCode",{parentName:"p"},"$ telnet smtp.ncnu.edu.tw 25")),Object(b.b)("blockquote",{parentName:"blockquote"},Object(b.b)("p",{parentName:"blockquote"},"HELO\nMAIL FROM:a@ncnu.edu.tw\nRCPT TO:{\u8981\u5bc4\u7d66\u8ab0@mail.com}\nDATA\nFrom : {sender@mail.com}\nTo : {who@mail.com}\nSubject: {\u4e3b\u65e8}\n{\u4fe1\u4ef6\u5167\u5bb9}\n{type \u4ec0\u9ebc\u5b57\u5143}\n.\n{type enter}"))),Object(b.b)("p",null,"Webmail \u63a8\u85a6: squirrelmail\n\u4e0b\u9031\u4e0a\u8ab2\u524d\u8acb\u5148\u4e86\u89e3\u4f55\u8b02 TCP/IP, OSI"))}i.isMDXComponent=!0},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n(0),o=n.n(a);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},b=Object.keys(e);for(a=0;a<b.length;a++)n=b[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(e);for(a=0;a<b.length;a++)n=b[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),i=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=i(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,b=e.originalType,r=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),u=i(n),d=a,s=u["".concat(r,".").concat(d)]||u[d]||m[d]||b;return n?o.a.createElement(s,c({ref:t},l,{components:n})):o.a.createElement(s,c({ref:t},l))}));function s(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var b=n.length,r=new Array(b);r[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var l=2;l<b;l++)r[l]=n[l];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);