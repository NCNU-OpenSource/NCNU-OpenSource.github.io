(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{155:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return b})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return o}));var a=n(1),r=n(9),i=(n(0),n(233)),l={},b={id:"1071/Week6",title:"Week6",description:"# Week6, 10/25 LSA",source:"@site/docs/1071/Week6.md",permalink:"/docs/1071/Week6",editUrl:"https://github.com/NCNU-OpenSource/NCNU-OpenSource.github.io/edit/src/docs/1071/Week6.md",sidebar:"someSidebar",previous:{title:"Week5",permalink:"/docs/1071/Week5"},next:{title:"Week7",permalink:"/docs/1071/Week7"}},c=[{value:"ssh",id:"ssh",children:[]},{value:"scp",id:"scp",children:[]},{value:"WebServer nginx",id:"webserver-nginx",children:[]},{value:"curl",id:"curl",children:[]},{value:"ftp",id:"ftp",children:[]},{value:"sftp",id:"sftp",children:[]},{value:"rsync",id:"rsync",children:[]},{value:"rclone",id:"rclone",children:[]},{value:"Let's Encrypt",id:"lets-encrypt",children:[]},{value:"Wildcard",id:"wildcard",children:[]}],p={rightToc:c};function o(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"week6-1025-lsa"},"Week6, 10/25 LSA"),Object(i.b)("h3",{id:"ssh"},"ssh"),Object(i.b)("p",null,"\u5b89\u5168\u7684\u9060\u7aef\u9023\u7dda"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"ssh ip"),Object(i.b)("li",{parentName:"ul"},"ssh -v -p 22 username@ip"),Object(i.b)("li",{parentName:"ul"},"\u4ee5\u91d1\u9470\u8a8d\u8b49\uff0c\u81ea\u52d5\u8a8d\u8b49\u767b\u5165 ssh-copy-id ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.ssh.com/ssh/copy-id"}),"https://www.ssh.com/ssh/copy-id"))),Object(i.b)("h3",{id:"scp"},"scp"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"scp <filename> <ip/domain>:<path>")," \u50b3\u9001\u6a94\u6848\u5230\u9060\u7aef\u6a5f\u5668\n\u5192\u865f\u5f8c\u65b9\u6c92\u6709\u52a0\u6771\u897f\u7684\u8a71\uff0c\u9810\u8a2d\u70ba\u52a0\u5165\u5bb6\u76ee\u9304"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"scp <filename> <ip/domain>:<server path> <your path>"),"\n\u5f9e\u9060\u7aef\u50b3\u9001\u6a94\u6848\u5230\u81ea\u5df1\u6a5f\u5668"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"scp -r <filename> <ip/domain>:<server path> <your path>"),"\n\u5f9e\u9060\u7aef\u50b3\u9001\u591a\u500b\u6a94\u6848\u5230\u81ea\u5df1\u6a5f\u5668"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ip a")," / ",Object(i.b)("inlineCode",{parentName:"li"},"ip addr")," \u53d6\u4ee3 ",Object(i.b)("inlineCode",{parentName:"li"},"ifconfig"))),Object(i.b)("h3",{id:"webserver-nginx"},"WebServer nginx"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo apt install nginx")," \u5b89\u88ddwebserver nginx\n\u6253\u958b\u700f\u89bd\u5668\u6253 <\u81ea\u5df1\u7684ip> \u6703\u770b\u5230Welcome to nginx ")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"/etc/nginx/sites-available/")," \u8a2d\u5b9a\u6a94\u5b58\u653e\u8655")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"/etc/nginx/sites-enabled/")," \u555f\u52d5\u8a2d\u5b9a\u6a94")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"/etc/nginx/sites-available/default")))),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"server {\n     listen 80 default_server (IPV4)\n     listen [::]:80 default_server (IPV6) \n } // \u807d\u53d6\u7684port\n")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"root /var/www/html"),"\u9810\u8a2d\u8b80\u53d6\u8cc7\u6599\u593e")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"index index.html index.htm index.nginx-debian.html"),"\u9810\u8a2d\u8b80\u53d6\u9996\u9801")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sites-enabled ")," \u88cf\u9762\u5b58\u653e\u7684\u6377\u5f91\u662f\u5f9e",Object(i.b)("inlineCode",{parentName:"p"},"sites-available")," \u90a3\u88cfsoft-link \u904e\u4f86\u7684 ")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"ln -s <source path> <destination path>"),"  \u5982\u679cdestination \u7684filename \u6c92\u6709\u6307\u5b9a\u5c31\u6703\u7528source\u7684\u6a94\u6848\u540d\u7a31")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo nginx -t")," \u6aa2\u67e5\u8a2d\u5b9a\u6a94\u6709\u6c92\u6709\u554f\u984c")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo nginx -s reload")," reload server")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo vim /etc/hosts")," \u4e00\u500b\u8868\u683c\u88e1\u9762\u653eip\u548c\u5176\u5c0d\u61c9\u7684string\uff0c\u8b93\u4f7f\u7528\u8005\u6253string\u5c0e\u5230\u8ddf\u5b83\u5339\u914d\u7684ip")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"server_name <self define string>"),"\u628astring\u52a0\u5728server name \u5f8c\u9762\u3000")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"ping localhost"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo nginx -s stop"),"\u505c\u6b62nginx\u670d\u52d9")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"sudo service nginx restart")," \u91cd\u65b0\u5553\u52d5nginx"))),Object(i.b)("p",null,":::info\nctrl + shift + r  \u700f\u89bd\u5668\u91cd\u65b0\u6574\u7406\u9801\u9762(\u5305\u62ec\u5feb\u53d6)\n:::\n:::warning\n\u6bcf\u6b21\u6539\u5b8c\u8a2d\u5b9a\u6a94\u8981reload\u4e00\u6b21\u624d\u6703\u5957\u7528\n:::"),Object(i.b)("h3",{id:"curl"},"curl"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"curl <url>")," \u5c0d\u7db2\u7ad9\u767c\u8acb\u6c42"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"curl <url> -I")," \u56de\u61c9header"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"curl --trace-ascii out <url>")," \u5217\u51fa\u5185\u5bb9")),Object(i.b)("h3",{id:"ftp"},"ftp"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u6a94\u6848\u50b3\u8f38\u5354\u5b9a"),Object(i.b)("li",{parentName:"ul"},"\u4f7f\u7528 20 port \u8ddf 21 port (\u56fa\u5b9a\u50b3\u6307\u4ee4)"),Object(i.b)("li",{parentName:"ul"},"\u660e\u6587"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"http://ftp.ncnu.edu.tw/"}),"http://ftp.ncnu.edu.tw/"))),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"vim ~/.ssh/config")),Object(i.b)("h3",{id:"sftp"},"sftp"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u52a0\u5bc6\u904e\u7684\u6a94\u6848\u50b3\u8f38\u5354\u5b9a"),Object(i.b)("li",{parentName:"ul"},"\u4f7f\u7528\u65b9\u5f0f\u57fa\u672c\u4e0a\u8ddfftp\u76f8\u540c"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"sftp <ip/domain>")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"l<command>"),":sftp\u9023\u4e0a\u4e4b\u5f8c\u60f3\u67e5\u770b\u672c\u5730\u72c0\u6cc1\uff0c\u5728\u6bcf\u500bcommand\u524d\u9762\u52a0",Object(i.b)("inlineCode",{parentName:"li"},"l"),"\u5373\u53ef"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"put <Filename>")," \u4e0a\u50b3\u5230\u9060\u7aef"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"get <Filename>")," \u4e0b\u8f09\u5230\u672c\u5730\n:::warning\n\u9023\u7dda\u4e86\u624d\u80fd\u6253\u4e0a\u6307\u4ee4\n:::")),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://ithelp.ithome.com.tw/questions/10089153"}),"\u5dee\u7570\u5099\u4efd vs \u589e\u91cf\u5099\u4efd")),Object(i.b)("h3",{id:"rsync"},"rsync"),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://zh.wikipedia.org/wiki/Rsync"}),"https://zh.wikipedia.org/wiki/Rsync")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"-a \u76ee\u9304\u5e95\u4e0b\u6a94\u6848\u4e00\u9f4a\u4e0a\u50b3,\u4e26\u4fdd\u7559\u7de8\u8f2f\u65e5\u671f\n-v \u8a73\u7d30\u8cc7\u8a0a\n-r recursive\n-e \u6307\u5b9aport\n-z compress\n-h human readable\n")),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"rsync -vzh <file> <username>@<ip/domain>:<remote path> <local path>"),":\u4e0b\u8f09\u6a94\u6848"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"rsync -avzh <file> <username>@<ip/domain>:<localpath> <remote path>"),":\u4e0a\u50b3\u6a94\u6848"),Object(i.b)("h3",{id:"rclone"},"rclone"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u5132\u5b58\u88dd\u7f6e\u4f9b\u61c9\u5546"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://blog.csie.io/rclone-loves-google-drive.html"}),"\u8a2d\u5b9a \u6559\u5b78"))),Object(i.b)("h3",{id:"lets-encrypt"},"Let's Encrypt"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"sudo certbot --nginx"),"\n",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://letsencrypt.org/"}),"https://letsencrypt.org/"),"\nHttps 's' \u7684\u5b89\u5168\u6191\u8b49"),Object(i.b)("h3",{id:"wildcard"},"Wildcard"),Object(i.b)("p",null,Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Wildcard_certificate"}),"https://en.wikipedia.org/wiki/Wildcard_certificate"),"\n\u3010\u5751\u3011\u8981\u5148\u7533\u8acbwildcard \u518d\u7533\u8acb\u5b89\u5168\u6191\u8b49\uff08\u4e4b\u524d\u7533\u8acb\u7684\u8981\u5168\u780d\u6389\uff09"))}o.isMDXComponent=!0},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return O}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),o=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):b({},t,{},e)),n},u=function(e){var t=o(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=o(n),m=a,O=u["".concat(l,".").concat(m)]||u[m]||s[m]||i;return n?r.a.createElement(O,b({ref:t},p,{components:n})):r.a.createElement(O,b({ref:t},p))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var b={};for(var c in t)hasOwnProperty.call(t,c)&&(b[c]=t[c]);b.originalType=e,b.mdxType="string"==typeof e?e:a,l[1]=b;for(var p=2;p<i;p++)l[p]=n[p];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);