(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{194:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return l})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return i}));var r=n(1),b=n(9),c=(n(0),n(233)),a={},l={id:"1041/Week-9-Network-Design",title:"Week-9-Network-Design",description:"# 1041 Week 9 Network Design",source:"@site/docs/1041/Week-9-Network-Design.md",permalink:"/docs/1041/Week-9-Network-Design",editUrl:"https://github.com/NCNU-OpenSource/NCNU-OpenSource.github.io/edit/src/docs/1041/Week-9-Network-Design.md",sidebar:"someSidebar",previous:{title:"Week-8-Samba",permalink:"/docs/1041/Week-8-Samba"},next:{title:"Week-10-VCS",permalink:"/docs/1041/Week-10-VCS"}},p=[{value:"IP\u4f4d\u5740\u5206\u7d1a",id:"ip\u4f4d\u5740\u5206\u7d1a",children:[]}],o={rightToc:p};function i(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(c.b)("wrapper",Object(r.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("h1",{id:"1041-week-9-network-design"},"1041 Week 9 Network Design"),Object(c.b)("p",null,"2015/11/12\xa0"),Object(c.b)("p",null,"\u6700\u5ee3\u6cdb\u4f7f\u7528\u7db2\u8def\u901a\u8a0a\u5354\u5b9a: TCP/IP \uff084\u5c64\uff09, OSI \uff087\u5c64\uff09"),Object(c.b)("p",null,Object(c.b)("img",Object(r.a)({parentName:"p"},{src:"https://hackpad-attachments.s3.amazonaws.com/ncnu-opensource.hackpad.com_rqobzgW331s_p.480591_1447292576735_osi_tcpip.gif",alt:null}))),Object(c.b)("p",null,"\u53c3\u8003\u6587\u737b\uff1a\u9ce5\u54e5"),Object(c.b)("p",null,"HTTP\u3001FTP\u3001SSH\u3001SNMP\u3001SMTP\u3001POP3"),Object(c.b)("p",null,"4 \u5c64\uff1a 1.data link 2.internet 3.transport 4.application"),Object(c.b)("p",null,"mac\uff08media access control\uff09layer->\u7b2c\u4e00\u5c64"),Object(c.b)("p",null,"switch->L2\xa0\xa0 L3"),Object(c.b)("p",null,"Layer 2 Switch\uff1a\u5229\u7528OSI \u7b2c\u4e8c\u5c64 MAC \u4f4d\u5740\u7684\u8cc7\u8a0a\u4f86\u9032\u884c\u8cc7\u6599\u4ea4\u63db\uff0c\u5b83\u53ef\u4ee5\u8a18\u61b6\u5b78\u7fd2\u7b2c\u4e00\u500b Port \u9023\u63a5\u7684 MAC \u4f4d\u5740\uff0c\u900f\u904e MAC \u4f4d\u5740\u53ca\u5c01\u5305\u76ee\u7684\u7684\u4f4d\u5740\u7684\u8fa8\u5225\u3002\xa0"),Object(c.b)("p",null,"Layer3 Switch\uff1a\u628a",Object(c.b)("u",null,"\u8def\u7531\u8868"),"\u7684\u529f\u80fd\u52a0\u5165 L2 Switch\uff0c\u90a3\u9ebc\u5b83\u5c31\u6703\u8b8a\u6210 L3 Switch\uff0c\u53ef\u4ee5\u70ba VLAN \u5efa\u7acb\u9069\u7576\u7684\u8def\u7531\u8868\uff0c\u8b93\u6548\u80fd\u66f4\u52a0\u63d0\u6607\u3002L3 \u7684\u4ea4\u63db\u5668\u53c8\u7a31\u70ba IP Switch \u6216 Switch Router\u3002"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u865b\u64ec\u5340\u57df\u7db2"),"\uff08",Object(c.b)("strong",{parentName:"p"},"Virtual Local Area Network"),"\u6216\u7c21\u5beb",Object(c.b)("strong",{parentName:"p"},"VLAN"),", ",Object(c.b)("strong",{parentName:"p"},"V-LAN"),"\uff09\u662f\u4e00\u7a2e\u5efa\u69cb\u65bc\u5340\u57df\u7db2\u8def\u4ea4\u63db\u6280\u8853\uff08LAN Switch\uff09\u7684",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://zh.wikipedia.org/wiki/%E7%B6%B2%E7%B5%A1%E7%AE%A1%E7%90%86"}),"\u7db2\u8def\u7ba1\u7406"),"\u7684\u6280\u8853\uff0c\u7db2\u7ba1\u4eba\u54e1\u53ef\u4ee5\u85c9\u6b64\u900f\u904e\u63a7\u5236",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://zh.wikipedia.org/wiki/%E4%BA%A4%E6%8D%A2%E6%9C%BA"}),"\u4ea4\u63db\u6a5f"),"\u6709\u6548\u5206\u6d3e\u51fa\u5165\u5340\u57df\u7db2\u7684\u5c01\u5305\u5230\u6b63\u78ba\u7684\u51fa\u5165\u57e0\uff0c\u9054\u5230\u5c0d\u4e0d\u540c\u5be6\u9ad4\u5340\u57df\u7db2\u4e2d\u7684\u8a2d\u5099\u9032\u884c\u908f\u8f2f\u5206\u7fa4\uff08Grouping\uff09\u7ba1\u7406\uff0c\u4e26\u964d\u4f4e\u5340\u57df\u7db2\u5167\u5927\u91cf\u8cc7\u6599\u6d41\u901a\u6642\uff0c\u56e0\u7121\u7528\u5c01\u5305\u904e\u591a\u5c0e\u81f4\u62e5\u585e\u7684\u554f\u984c\uff0c\u4ee5\u53ca\u63d0\u6607\u5340\u57df\u7db2\u7684\u8cc7\u8a0a\u5b89\u5168\u4fdd\u969c\u3002"),Object(c.b)("h2",{id:"ip\u4f4d\u5740\u5206\u7d1a"},"IP\u4f4d\u5740\u5206\u7d1a"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"IP\u56fa\u5b9a32 bits")),Object(c.b)("p",null,"![](",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://hackpad-attachments.s3.amazonaws.com/ncnu-opensource.hackpad.com_rqobzgW331s_p.345652_1447294321253_Screenshot"}),"https://hackpad-attachments.s3.amazonaws.com/ncnu-opensource.hackpad.com_rqobzgW331s_p.345652_1447294321253_Screenshot")," 2015-11-12 10.11.39.png)"),Object(c.b)("p",null,"\u53c3\u8003\u6587\u737b\uff1a",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"http://linux.vbird.org/linux_server/0110network_basic.php#tcpip_network_comp_class"}),"\u9ce5\u54e5")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"CLASS A \u7528\u9014 \u653f\u5e9c\u6a5f\u7ba1\u3001\u570b\u5bb6\u7814\u7a76\u55ae\u4f4d\u3001\u8de8\u570b\u4f01\u696d")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"IP\u7bc4\u570d\uff1a1.0.0.0~126.255.255.255 (0.0.0.0\u70ba default route"),"\uff0c",Object(c.b)("strong",{parentName:"p"},"127.0.0.1 \u70ba loopback address\uff0c\u88ab\u4fdd\u7559\u4f7f\u7528)\xa0\xa0 ((127\u662f\u7279\u6b8a\u7528\u9014")),Object(c.b)("p",null,"\u524d 8 \u4f4d\u5143\u8868\u793a A \u7d1a\u7db2\u8def\u4f4d\u5740 (Network ID)\uff0c\u5176\u9918 24 \u4f4d\u5143\u8868\u793a\u4e3b\u6a5f\u4f4d\u5740 (Host ID)"),Object(c.b)("p",null,"\u7b26\u5408\u7b2c1\u500b\u5340\u6bb5(X.)\u7684\u70ba\u540c\u7db2\u6bb5\xa0\xa0\xa0\xa0\xa0\xa0 below b c\xa0 are 2 3\xa0"),Object(c.b)("p",null,"00000000","."," the first bit is 0 , it is class A\xa0\xa0\xa0\xa0 below b c are 2 3"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"CLASS B \u7528\u9014\uff1a\u5927\u578b\u4f01\u696d\u3001\u96fb\u4fe1\u696d\u8005\u3001\u5927\u5c08\u9662\u6821")),Object(c.b)("p",null,"\u540c\u7db2\u6bb5\uff1a",Object(c.b)("u",null,"128.0"),".0.0 ~ ",Object(c.b)("u",null,"191.255"),".255.255"),Object(c.b)("p",null,"\u524d 16 \u4f4d\u5143\u8868\u793a B \u7d1a\u7db2\u8def\u4f4d\u5740 (Network ID)\uff0c\u5176\u9918 16 \u4f4d\u5143\u8868\u793a\u4e3b\u6a5f\u4f4d\u5740(Host ID)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"CLASS C: \u3127\u822c\u4f01\u696d\u3001\u3127 \u822c\u5bb6\u5ead\u3001\u9ad8\u570b\u4e2d\u5c0f")),Object(c.b)("p",null,"\u540c\u7db2\u6bb5\uff1a",Object(c.b)("u",null,"192.0.0"),".0 ~ ",Object(c.b)("u",null,"223.255.255"),".255"),Object(c.b)("p",null,"\u4ee5\u524d 24 \u4f4d\u5143\u8868\u793a C \u7d1a\u7db2\u8def\u4f4d\u5740Network ID\uff0c\u5176\u9918 8 \u4f4d\u5143\u8868\u793a\u4e3b\u6a5f\u4f4d\u5740(Host ID)"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"CLASS D: \u591a\u9ede\u5ee3\u64ad(Multicast)")),Object(c.b)("p",null,"IP\u7bc4\u570d\uff1a224~239"),Object(c.b)("p",null,"\u4fdd\u7559\u7d66 Multicast \u4f7f\u7528\uff0c\u56e0\u6b64\u4e0d\u914d\u767c\u3002\u4e5f\u5c31\u662f\u8aaa Class D \u7b49\u7d1a\u6240\u4f7f\u7528\u7684IP\u7bc4\u570d\u5728224.0.0.0\u301c239.255.255.255\u3002"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u865b\u64ecIP\u7bc4\u570d")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Class A")," : ",Object(c.b)("strong",{parentName:"p"},"10.0.0.0\uff5e10.255.255.255")),Object(c.b)("undefined",null,"*   **Class B** : **172 16.0.0\uff5e172.31.255.255\xa0***   **Class C** : **192.168.0.\uff5e192.168.255.255\xa0**"),Object(c.b)("p",null,"| RFC1918 name | IP address range | number of addresses | largest | host id size | mask bits | description |\n| 24-bit block | 10.0.0.0 - 10.255.255.255 | 16,777,216 | 10.0.0.0/8 (255.0.0.0) | 24 bits | 8 bits | single |\n| 20-bit block | 172.16.0.0 - 172.31.255.255 | 1,048,576 | 172.16.0.0/12 (255.240.0.0) | 20 bits | 12 bits | 16 contiguous class B networks |\n| 16-bit block | 192.168.0.0 - 192.168.255.255 | 65,536 | 192.168.0.0/16 (255.255.0.0) | 16 bits | 16 bits | 256 contiguous class C networks |"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u5b50\u7db2\u8def\u906e\u7f69\u8a08\u7b97")),Object(c.b)("p",null,"1.\u67d0\u4f01\u696d\u5206\u914d\u5230class B \u7684 IP (140.112.x.x)\u4eca\u5929\u60f3\u8981\u5207\u62102\u500b\u5b50\u7db2\u8def(\u501f1\u500bbit)\u4f86\u5206\u914d\u4f7f\u7528\u3002"),Object(c.b)("p",null,"\xa0 (1) \u5176\u7db2\u8def\u906e\u7f69\u70ba\uff1f140 It\u2019s Class B =>255.255.128.0\xa0 => 11111111.11111111.10000000.00000000\xa0"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},'255.255\xa0\xa0 .128\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 .0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 /17\xa0 (have 17 "1" = 17 bits)\xa0'),Object(c.b)("li",{parentName:"ul"},'->2 subnet IP: 140.112." 0~127".X and 140.112."128~255".X/17'),Object(c.b)("li",{parentName:"ul"},"/17 \u6307\u8a72\u6bd4\u5c0d17\u500bbit \u90fd\u7b26\u5408\u624d\u6703\u63a5\u6536")),Object(c.b)("p",null,"\xa0 (2)\u6709\u6548IP\u4f4d\u5740\u70ba\uff1f 140.112.0~127.X\xa0 and\xa0 140.112.128~255.X (\u6263\u96640&255)"),Object(c.b)("p",null,"2","."," 192.168.0.0/28"),Object(c.b)("p",null,'\xa0 (1) \u7db2\u8def\u906e\u7f69\u70ba\uff1f192 isClass C => 255.255.255.240 => 11111111.11111111.11111111.11110000 (have 28 "1" = 28bits)'),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"255\xa0\xa0 . 255 . 255 . 240\xa0\xa0\xa0\xa0\xa0\xa0 /28")),Object(c.b)("p",null,'\xa0 (2)\u53ef\u7528IP\u6709\u5e7e\u500b\uff1f2^4-2=14 \uff08-2=>\u53bb\u982d\u53bb\u5c3e 140.112.0."0" and 140.112.255."255"\uff09'),Object(c.b)("p",null,"\u3010HW\u3011"),Object(c.b)("p",null,"140.112.30.72/27\xa0"),Object(c.b)("p",null,"Net Mask : 255.255.255.224"),Object(c.b)("p",null,"\u6709\u6548IP\u4f4d\u5740\uff1a"),Object(c.b)("p",null,"\u53ef\u7528IP\u500b\u6578\uff1a2^5-2=30"),Object(c.b)("p",null,"BBI\xa0 ->\xa0 Firewall / Router / Proxy <- LAN"),Object(c.b)("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 DMZ"),Object(c.b)("p",null,"\u5be6\u9ad4IP\u865b\u64ecIP\u52d5\u614bIP\u56fa\u5b9aIP"),Object(c.b)("p",null,"\u56fa\u5b9aIP\u662f\u5beb\u6b7b\u7684\uff0c\u52d5\u614bIP\u662f\u958b\u6a5f\u7522\u751f\u7684"),Object(c.b)("p",null,"dmz\uff1a\u70ba\u4e00\u7a2e\u7db2\u7d61\u67b6\u69cb\u7684\u5e03\u7f6e\u65b9\u6848\uff0c\u5e38\u88ab\u4f7f\u7528\u7684\u67b6\u8a2d\u65b9\u6848\u662f\u5728\u4e0d\u4fe1\u4efb\u7684\u5916\u90e8\u7db2\u7d61\u548c\u53ef\u4fe1\u4efb\u7684\u5167\u90e8\u7db2\u7d61\u5916\uff0c\u5efa\u7acb\u4e00\u500b\u9762\u5411\u5916\u90e8\u7db2\u7d61\u7684\u7269\u7406\u6216\u908f\u8f2f\u5b50\u7db2\uff0c\u8a72\u5b50\u7db2\u80fd\u8a2d\u7f6e\u7528\u65bc\u5c0d\u5916\u90e8\u7db2\u7d61\u7684",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://zh.wikipedia.org/wiki/%E6%9C%8D%E5%8A%A1%E5%99%A8"}),"\u4f3a\u670d\u5668"),"\u4e3b\u6a5f\u3002"),Object(c.b)("p",null,"IPtables\uff1a\u5728LINUX\u5e95\u4e0b\uff0c\u7528\u4ee5\u8a2d\u5b9a\u9023\u5165\u5c01\u5305\u5f97\u8655\u7406\uff0c\u4e14\u5c0d\u61c9\u5230\u9700\u8981\u7684\u529f\u80fd"),Object(c.b)("p",null,"iptable \u8868\u793a\u6cd5"),Object(c.b)("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 iptables -a\xa0\xa0 -s \uff08eth2\uff09"),Object(c.b)("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 -d (eth1)"),Object(c.b)("p",null,"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 -j accept/drop"))}i.isMDXComponent=!0},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return j}));var r=n(0),b=n.n(r);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,b=function(e,t){if(null==e)return{};var n,r,b={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(b[n]=e[n]);return b}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(b[n]=e[n])}return b}var o=b.a.createContext({}),i=function(e){var t=b.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):l({},t,{},e)),n},s=function(e){var t=i(e.components);return b.a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},O=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,c=e.originalType,a=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),s=i(n),O=r,j=s["".concat(a,".").concat(O)]||s[O]||u[O]||c;return n?b.a.createElement(j,l({ref:t},o,{components:n})):b.a.createElement(j,l({ref:t},o))}));function j(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var c=n.length,a=new Array(c);a[0]=O;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var o=2;o<c;o++)a[o]=n[o];return b.a.createElement.apply(null,a)}return b.a.createElement.apply(null,n)}O.displayName="MDXCreateElement"}}]);